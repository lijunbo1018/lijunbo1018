<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Witness</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Witness">
<meta property="og:url" content="http://lijunbo1018.github.io/index.html">
<meta property="og:site_name" content="Witness">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Witness">
  
  
    <link rel="icon" href="favicon.png">
  
  <link href='//fonts.useso.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  

  
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><span class="site-title">Witness</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/.">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
      </nav>
      
        <nav id="sub-nav">
          <div class="profile" id="profile-nav">
            <a id="profile-anchor" href="javascript:;"><img class="avatar" src="/css/images/avatar.png"><i class="fa fa-caret-down"></i></a>
          </div>
        </nav>
      
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="http://lijunbo1018.github.io"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
        
          <td><a class="main-nav-link" href="/.">Home</a></td>
        
          <td><a class="main-nav-link" href="/archives">Archives</a></td>
        
          <td><a class="main-nav-link" href="/categories">Categories</a></td>
        
          <td><a class="main-nav-link" href="/tags">Tags</a></td>
        
        <td>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://lijunbo1018.github.io"></form>
        </td>
      </tr>
    </table>
  </div>
</header>

    <div class="outer">
      
        <aside id="profile">
  <div class="inner profile-inner">
    <div class="base-info profile-block">
      <img id="avatar" src="/css/images/avatar.png">
      <h2 id="name">lijunbo</h2>
      <h3 id="title"></h3>
      <span id="location"><i class="fa fa-map-marker"></i>中国，北京</span>
      <a id="follow" href="http://github.com/lijunbo1018/">关注我</a>
    </div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        3
        <span>文章</span>
      </div>
      <div class="article-info-block">
        5
        <span>标签</span>
      </div>
    </div>
    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
          
          <td><a href="http://github.com/lijunbo1018/" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
          
          <td><a href="#" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
          
          <td><a href="#" target="_blank" title="facebook"><i class="fa fa-facebook"></i></a></td>
          
          <td><a href="#" target="_blank" title="dribbble"><i class="fa fa-dribbble"></i></a></td>
          
          <td><a href="/atom.xml" target="_blank" title="rss"><i class="fa fa-rss"></i></a></td>
          
        </tr>
      </table>
    </div>
    
    
  </div>
</aside>

      
      <section id="main">
      <article id="post-用JS获取滚动条宽度" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/15/用JS获取滚动条宽度/">用JS获取滚动条宽度</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/08/15/用JS获取滚动条宽度/">
      <time datetime="2015-08-15T06:35:43.000Z" itemprop="datePublished">2015-08-15</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/学习笔记/">学习笔记</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/学习笔记/前端/">前端</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>实际项目中，遇到一个页面需要由定宽的导航和自适应的内容组成，于是用js来计算内容的宽度。然而由于滚动条宽度欠考虑的问题，引发了一个布局混乱的bug。根据开发机上实测的结果，给滚动条估了一个定宽值。结果发现，用户环境上的滚动条比我们想的宽（尽管操作系统、浏览器版本都一样），于是需要考虑怎么获得滚动条有多宽呢？</p>
<h3 id="JavaScript怎么获取滚动条宽度"><a href="#JavaScript怎么获取滚动条宽度" class="headerlink" title="JavaScript怎么获取滚动条宽度"></a>JavaScript怎么获取滚动条宽度</h3><p>完全没有思路应该怎么搞。一番搜索，在stackoverflow上找到了<a href="http://stackoverflow.com/questions/13382516/getting-scroll-bar-width-using-javascript" target="_blank" rel="external">这个方法</a>：<br>作者的做法很巧妙，创建两个hidden的div，将外层div宽度设为100px，并且把overflow设为scroll迫使滚动条展现，再将内层元素宽度设为100%，通过计算两个元素offsetWidth的差值来得到滚动条的宽度。 整理了一下代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getScrollbarWidth</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> outer = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</div><div class="line">    outer.style.visibility = <span class="string">'hidden'</span>;</div><div class="line">    outer.style.width = <span class="string">'100px'</span>;</div><div class="line">    outer.style.msOverflowStyle = <span class="string">'scrollbar'</span>;   <span class="comment">// 为了适配windows</span></div><div class="line"></div><div class="line">    <span class="keyword">var</span> inner = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</div><div class="line">    inner.style.width = <span class="string">'100%'</span>;</div><div class="line"></div><div class="line">    outer.appendChild(inner);</div><div class="line">    outer.style.overflow = <span class="string">'scroll'</span>;</div><div class="line"></div><div class="line">    <span class="built_in">document</span>.body.appendChild(outer);</div><div class="line"></div><div class="line">    <span class="keyword">var</span> outerOffsetWidth = outer.offsetWidth;</div><div class="line">    <span class="keyword">var</span> innerOffsetWidth = inner.offsetWidth;</div><div class="line"></div><div class="line">    outer.parentNode.removeChild(outer);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> outerOffsetWidth - innerOffsetWidth;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>代码整体都很容易理解，不过要搞懂为什么这样能算出滚动条的宽度，关键就是要搞懂offsetWidth是什么东西。</p>
<h3 id="什么是offsetWidth"><a href="#什么是offsetWidth" class="headerlink" title="什么是offsetWidth"></a>什么是offsetWidth</h3><p>说到offsetWidth，其实DOM元素还有其他几个相关的属性(properties)，当我们需要知道一个元素的高度、宽度的时候，我们需要用到这些属性，这里把它们分成三对来说：</p>
<h4 id="1-clientHeight-clientWidth"><a href="#1-clientHeight-clientWidth" class="headerlink" title="1. clientHeight/clientWidth"></a>1. clientHeight/clientWidth</h4><p>这一对属性表示的是元素实际可见内容的所占空间。它包含了内边距(padding)，但是不包含边框(border)、外边距(margin)和滚动条（相应的，clientHeight不包含水平滚动条的高度，clientWidth不包含垂直滚动条的宽度）。</p>
<h4 id="2-offsetHeight-offsetWidth"><a href="#2-offsetHeight-offsetWidth" class="headerlink" title="2. offsetHeight/offsetWidth"></a>2. offsetHeight/offsetWidth</h4><p>这一对属性表示的是元素在页面上一共占据了多少空间。它包含了内边距(padding)、边框(border)以及滚动条（相应的，offsetHeight包含了水平滚动条的高度，offsetWidth包含了垂直滚动条的宽度，<strong>这点就是我们所利用的</strong>）。</p>
<h4 id="3-scrollHeight-scrollWidth"><a href="#3-scrollHeight-scrollWidth" class="headerlink" title="3. scrollHeight/scrollWidth"></a>3. scrollHeight/scrollWidth</h4><p>这一对属性表示的是元素内容实际上的尺寸（包括了可能由于滚动条而未展示出来的内容）。</p>
<p>这样说起来很抽象，感谢<a href="http://stackoverflow.com/users/4381665/alexander-solonik" target="_blank" rel="external">Alexander Solonik</a>在<a href="http://stackoverflow.com/questions/21064101/understanding-offsetwidth-clientwidth-scrollwidth-and-height-respectively" target="_blank" rel="external">stackoverflow</a>上为我们提供了一个带有标尺的讲解以及<a href="http://jsfiddle.net/y8Y32/25/" target="_blank" rel="external">jsFiddle</a>的实例：</p>
<iframe scrolling="no" width="100%" height="300" src="http://jsfiddle.net/y8Y32/25/embedded/100%/500" frameborder="0" allowfullscreen></iframe>
<p>通过实例再结合上面的文字描述，我们很容易理解了为什么先前的JS代码可以算出垂直滚动条的宽度：<br>因为外层元素的offsetWidth包含了clientWidth、padding(0)、border(0)、以及滚动条，而内层元素的宽度设置为了100%，且它也没有padding、border或者滚动条，所以内层元素的offsetWidth实际上应该等于外层元素的clientWidth，二者相减即可算出垂直滚动条的宽度。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lijunbo1018.github.io/2015/08/15/用JS获取滚动条宽度/" data-id="cixomng98000iwzs6xdpp9ckr" class="article-share-link">分享到</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DOM/">DOM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-vertical-align和垂直居中" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/02/vertical-align和垂直居中/">vertical-align和垂直居中</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/08/02/vertical-align和垂直居中/">
      <time datetime="2015-08-02T08:55:50.000Z" itemprop="datePublished">2015-08-02</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/学习笔记/">学习笔记</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/学习笔记/前端/">前端</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>CSS里有一个属性叫做vertical-align，并且它有一个可选的值叫做middle，通过这个值，可以让表格里的文字垂直居中。但是，当我想当然地要以相同的方式实现一些不同场景下的垂直居中时，发现并不起作用。问题出在哪里？要垂直居中到底应该怎么处理？</p>
<h2 id="vertical-align时灵时不灵？"><a href="#vertical-align时灵时不灵？" class="headerlink" title="vertical-align时灵时不灵？"></a>vertical-align时灵时不灵？</h2><p>vertical-align: 怪我咯？查了一下，人家真不是专门干这个的。<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/vertical-align" target="_blank" rel="external">MDN</a>上是这么说的：</p>
<blockquote>
<p>The vertical-align CSS property specifies the vertical alignment of an inline or table-cell box.</p>
</blockquote>
<p>它用来设定行内元素（inline/inline-block/inline-table）或者表格单元格(table-cell)在垂直方向上对齐。那么很显然，当我们将该属性应用于块级元素上的时候并不起作用。并且，vertical-align远比字面上理解起来要复杂，其默认值为baseline，除了middle还有sub、super、text-top、text-bottom等一系列值可以选。本文不重点讨论这个属性的用法，这儿有<a href="http://christopheraue.net/2014/03/05/vertical-align/" target="_blank" rel="external">一篇图文并茂讲解vertical-align的文章</a>，就line-box、baseline、outer edge等一些与之相关的概念作了详细介绍，感兴趣的读者可以详细阅读。</p>
<h2 id="垂直居中要怎么玩？"><a href="#垂直居中要怎么玩？" class="headerlink" title="垂直居中要怎么玩？"></a>垂直居中要怎么玩？</h2><p>回到原始诉求，我们需要把元素垂直居中应该怎么办？这里整理几个方法供参考，可以结合实际的场景原则合适的方式。</p>
<h3 id="1-利用padding"><a href="#1-利用padding" class="headerlink" title="1. 利用padding"></a>1. 利用padding</h3><p>对于一些行内元素或者文本内容，可以通过对其父容器设置上下相同的padding值来达到垂直居中的目的。对于<strong>高度固定</strong>的块级元素，也可以通过计算得到相应的padding值来实现垂直居中（<em>当然，这样非常缺乏灵活性，适用场景并不广</em>）。例如：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-class">.vertical-center</span> &#123;</div><div class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">5px</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#c0c0c0</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.parent</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">75px</span>;</div><div class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#c0c0c0</span>;</div><div class="line">    <span class="attribute">padding-top</span>: <span class="number">25px</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.child</span> &#123;</div><div class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line">...</div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"vertical-center"</span>&gt;</span>这是一段垂直居中的文本<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>这是一个垂直居中的div<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">...</div></pre></td></tr></table></figure><br>效果类似下图：<br>
<style type="text/css">
  .vertical-center {
    padding: 10px 5px;
    background-color: #c0c0c0;
  }
  .parent {
    width: 200px;
    height: 75px;
    margin: 0 auto;
    background-color: #c0c0c0;
    padding-top: 25px;
  }
  .child {
    height: 50px;
    background-color: #fff;
  }
</style>
</p><p class="vertical-center">这是一段垂直居中的文本</p>
<div class="parent">
  <div class="child">
    <span>这是一个垂直居中的div</span>
  </div>
</div>
<p></p>
<h3 id="2-利用line-height"><a href="#2-利用line-height" class="headerlink" title="2. 利用line-height"></a>2. 利用line-height</h3><p>对于一些只有<strong>单行文本</strong>的情况，且父容器又指定了相应的高度，我们可以通过将line-height设置为父容器的高度来达到垂直居中的目的，例如：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-class">.fix-height</span> &#123;</div><div class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</div><div class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#c0c0c0</span>;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line">...</div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"fix-height"</span>&gt;</span>这是一行垂直居中的文本<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">...</div></pre></td></tr></table></figure><br>效果类似下图：<br>
<style type="text/css">
  .fix-height {
    height: 40px;
    line-height: 40px !important;
    background-color: #c0c0c0;
  }
</style>
</p><p class="fix-height">这是一行垂直居中的文本</p>
<p></p>
<h3 id="3-利用vertical-align"><a href="#3-利用vertical-align" class="headerlink" title="3. 利用vertical-align"></a>3. 利用vertical-align</h3><p>前面提到了vertical-align，事实上，也确实可以通过它来实现垂直居中的目的。因为vertical-align需要对行内元素或者表格单元格才生效，所以我们需要多做一些处理，例如通过把父容器变成table-cell的样子：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-class">.table-cell</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#c0c0c0</span>;</div><div class="line">    <span class="attribute">display</span>: table-cell;</div><div class="line">    <span class="attribute">vertical-align</span>: middle;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"table-cell"</span>&gt;</span></div><div class="line">  这是一个垂直居中了的文字</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><br>效果如图：<br>
<style type="text/css">
  .table-cell {
    width: 100px;
    height: 100px;
    background-color: #c0c0c0;
    display: table-cell;
    vertical-align: middle;
  }
</style>
<div class="table-cell">
  这是一个垂直居中了的文字
</div>
</p>
<h3 id="4-利用相对定位加CSS3的转换-transform"><a href="#4-利用相对定位加CSS3的转换-transform" class="headerlink" title="4. 利用相对定位加CSS3的转换(transform)"></a>4. 利用相对定位加CSS3的转换(transform)</h3><p>这是一个相对灵活的方式，不与元素的尺寸强相关，因而适用场景相对较广。例如：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-class">.container</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#c0c0c0</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.centralized</span> &#123;</div><div class="line">    <span class="attribute">position</span>: relative;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</div><div class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</div><div class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-50%);</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"centralized"</span>&gt;</span>这是一个尺寸未知的垂直居中的段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><br>效果如图：<br>
<style type="text/css">
  .container {
    width: 200px;
    height: 100px;
    margin: 0 auto;
    background-color: #c0c0c0;
  }
  .centralized {
    position: relative;
    background-color: #fff;
    top: 50%;
    transform: translateY(-50%);
  }
</style>
<div class="container">
  <p class="centralized">这是一个尺寸未知的垂直居中的段落</p>
</div>
通过这样的方式，即便需要居中的元素尺寸发生变化，它仍然能保持垂直居中。类似的，通过translateX(-50%)的方式配合上left: 50%的设置可以实现水平方向上的居中。
</p>
<h3 id="5-利用flexbox"><a href="#5-利用flexbox" class="headerlink" title="5. 利用flexbox"></a>5. 利用flexbox</h3><p>使用flexbox算是最简单的一种方式了：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span></div><div class="line">  <span class="selector-class">.flex-box</span> &#123;</div><div class="line">    <span class="attribute">display</span>: flex;</div><div class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</div><div class="line">    <span class="attribute">align-items</span>: center;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#c0c0c0</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.content</span> &#123;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"flex-box"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span>这是一个很轻易就垂直居中的段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><br>效果如下图：<br>
<style type="text/css">
  .flex-box {
    display: flex;
    height: 50px;
    align-items: center;
    background-color: #c0c0c0;
  }
  .content {
    background-color: #fff;
  }
</style>
<div class="flex-box">
  <p class="content">这是一个很轻易就垂直居中的段落</p>
</div>
<br>类似的，设定justify-content: center可以实现水平方向上的居中。通过flexbox还可以实现很多复杂不易搞定的布局，关于flexbox更详尽的介绍可以看<a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" target="_blank" rel="external">这里</a>。</p>
<p>发现一篇<a href="https://css-tricks.com/centering-css-complete-guide/" target="_blank" rel="external">博文</a>，作者根据具体场景，详细的总结了包括水平居中、垂直居中以及水平垂直居中的方式，涵盖了上述方法。套用作者的一句结论：我们完全可以通过CSS来实现居中。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lijunbo1018.github.io/2015/08/02/vertical-align和垂直居中/" data-id="cixomng8q0001wzs6eyyy3kg0" class="article-share-link">分享到</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/layout/">layout</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-checkbox选中了吗" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/21/checkbox选中了吗/">checkbox选中了吗</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/07/21/checkbox选中了吗/">
      <time datetime="2015-07-21T15:05:50.000Z" itemprop="datePublished">2015-07-21</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/学习笔记/">学习笔记</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/学习笔记/前端/">前端</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>工作中，遇到需要判断表单里一个checkbox是否为勾选状态，习惯性使用jQuery的attr方法来获取checked属性，结果发现不对，这里把学习结果记录一下。</p>
<h3 id="被误解的checked"><a href="#被误解的checked" class="headerlink" title="被误解的checked"></a>被误解的checked</h3><figure class="highlight fsharp"><figcaption><span>lang: html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input <span class="class"><span class="keyword">type</span></span>=<span class="string">"checkbox"</span> id=<span class="string">"checkbox"</span> checked=<span class="string">"checked"</span>/&gt;</div></pre></td></tr></table></figure>
<p>以上述方式创建的的checkbox为选中状态，导致我想当然的以为其中的checked属性就是表示checkbox的选种状态的，然而未选中的状态下checked属性的值是什么？通过实验我发现，不过我选不选中，checked属性的值始终是”checked”，显然，通过$(‘#checkbox’).attr(‘checked’)取到的值始终为”checked”，这怎么破？</p>
<h3 id="正确的姿势"><a href="#正确的姿势" class="headerlink" title="正确的姿势"></a>正确的姿势</h3><p>Google一番，发现正确的姿势（jQuery 1.6+）应该使用prop方法，实测$(‘#checkbox’).prop(‘checked’)得到的是一个布尔值，而不是字符串<br><figure class="highlight excel"><figcaption><span>lang: javascript</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$('#checkbox').prop('checked')</div><div class="line">=&gt;<span class="built_in">true</span></div></pre></td></tr></table></figure><br>如果去掉checkbox的勾选状态后，上述方法返回false，果然奏效。让我来看看prop方法是个什么鬼，<a href="http://api.jquery.com/prop/#prop1" target="_blank" rel="external">官方API</a>这么说：<br><blockquote><p>The .prop() method gets the property value for only the first element in the matched set. </p>
</blockquote><br>那我所误用的attr方法又是个什么鬼，<a href="http://api.jquery.com/attr/#attr1" target="_blank" rel="external">官方API</a>这么说：<br><blockquote><p>The .attr() method gets the attribute value for only the first element in the matched set. </p>
</blockquote><br>一个property，一个attribute，似乎在中文里我们都叫属性？我还真说出来这俩词的差异。。。</p>
<h3 id="Attributes-VS-Properties"><a href="#Attributes-VS-Properties" class="headerlink" title="Attributes VS Properties"></a>Attributes VS Properties</h3><p>又是一番Google，应该是这样：当我们写HTML代码的时候，我们给HTML元素添加属（attribute），当浏览器处理HTML源码生成DOM元素时，DOM元素会有相应的属性（property）。简言之，attribute属于HTML元素，而property属于DOM元素。举个栗子，仍然是一个checkbox：<br><figure class="highlight fsharp"><figcaption><span>lang: html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input <span class="class"><span class="keyword">type</span></span>=<span class="string">"checkbox"</span> id=<span class="string">"checkbox"</span> checked/&gt;</div></pre></td></tr></table></figure><br>有如下javascript代码的执行结果：<br><figure class="highlight excel"><figcaption><span>lang: javascript</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">var</span> checkbox = document.getElementById('checkbox')</div><div class="line">=&gt;undefined</div><div class="line">checkbox.checked   // 我们需要的表明checkbox勾选状态的属性（property），这也是一种获取方式</div><div class="line">=&gt;<span class="built_in">true</span></div><div class="line">checkbox.getAttribute('checked')  // HTML元素里的属性（attribute）</div><div class="line">=&gt;<span class="string">""</span></div><div class="line">checkbox.defaultChecked    </div><div class="line">=&gt;<span class="built_in">true</span></div><div class="line">checkbox.attrbutes.length</div><div class="line">=&gt;<span class="number">3</span></div></pre></td></tr></table></figure></p>
<p>对于HTML元素checkbox，它有三个属性（attribute），当DOM元素checkbox被创建后，它会有包括checked在内的n多属性（property），这个checked属性（property）才真正表明checkbox的选种状态，而HTML元素里的checked属性（attribute）只关乎DOM元素的defaultChecked属性（property），且defaultChecked为布尔值，由HTML元素里checked属性（attribute）的有无决定，与其值无关。所有HTML元素里的属性（attribute）都作为一个attributes属性（property，类型为NamedNodeMap）存在于DOM元素里，可以看到其长度为3。</p>
<h3 id="jQuery-attr-VS-prop"><a href="#jQuery-attr-VS-prop" class="headerlink" title="jQuery .attr VS .prop"></a>jQuery .attr VS .prop</h3><p>还是来看看<a href="http://api.jquery.com/prop/#prop-propertyName" target="_blank" rel="external">官方API</a>怎么说：<br><blockquote><p>Before jQuery 1.6, the .attr() method sometimes took property values into account when retrieving some attributes, which could cause inconsistent behavior. As of jQuery 1.6, the .prop() method provides a way to explicitly retrieve property values, while .attr() retrieves attributes.<br>For example, selectedIndex, tagName, nodeName, nodeType, ownerDocument, defaultChecked, and defaultSelected should be retrieved and set with the .prop() method. Prior to jQuery 1.6, these properties were retrievable with the .attr() method, but this was not within the scope of attr. These do not have corresponding attributes and are only properties.</p>
</blockquote></p>
<p>这么说来，jQuery 1.6之前的attr方法引入了一些一致性的问题。我们要的表明checkbox勾选状态的，是属于DOM元素的checked属性（property），而HTML元素的checked属性（attribute）的值并没有什么用，仅仅是其有无反映到DOM元素的defaultChecked属性（property）上。</p>
<p>与之相似的，如果我们需要改变checkbox的勾选状态，也需要用.prop方法，如$(‘#checkbox’).prop(‘checked’, true)来选中ID为checkbox的复选框。</p>
<h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes" target="_blank" rel="external">HTML Attributes, Mozilla Dev Center</a></p>
<p><a href="https://developer.mozilla.org/en/DOM/element#Properties" target="_blank" rel="external">DOM Element Properties, Mozilla Dev Center</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lijunbo1018.github.io/2015/07/21/checkbox选中了吗/" data-id="cixomng8m0000wzs6fnp5bl5d" class="article-share-link">分享到</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DOM/">DOM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jQuery/">jQuery</a></li></ul>

    </footer>
  </div>
  
</article>



    </section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul id="recent-post" class="">
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/08/15/用JS获取滚动条宽度/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/学习笔记/">学习笔记</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/学习笔记/前端/">前端</a></p>
              <p class="item-title"><a href="/2015/08/15/用JS获取滚动条宽度/" class="title">用JS获取滚动条宽度</a></p>
              <p class="item-date"><time datetime="2015-08-15T06:35:43.000Z" itemprop="datePublished">2015-08-15</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/08/02/vertical-align和垂直居中/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/学习笔记/">学习笔记</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/学习笔记/前端/">前端</a></p>
              <p class="item-title"><a href="/2015/08/02/vertical-align和垂直居中/" class="title">vertical-align和垂直居中</a></p>
              <p class="item-date"><time datetime="2015-08-02T08:55:50.000Z" itemprop="datePublished">2015-08-02</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/07/21/checkbox选中了吗/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/学习笔记/">学习笔记</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/学习笔记/前端/">前端</a></p>
              <p class="item-title"><a href="/2015/07/21/checkbox选中了吗/" class="title">checkbox选中了吗</a></p>
              <p class="item-date"><time datetime="2015-07-21T15:05:50.000Z" itemprop="datePublished">2015-07-21</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/学习笔记/">学习笔记</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/学习笔记/前端/">前端</a><span class="category-list-count">3</span></li></ul></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOM/">DOM</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/layout/">layout</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/DOM/" style="font-size: 20px;">DOM</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/layout/" style="font-size: 10px;">layout</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 lijunbo<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    


<script src="//ajax.useso.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>